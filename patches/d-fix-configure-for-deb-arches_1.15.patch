Description: Fix configure architecture targets for Debian
 Rust upstream sometimes builds for multiple triplets depending on the CPU,
 since it could be valid for multiple triplets. We don't need to do this for
 Debian; each DEB_HOST_ARCH maps to a single triplet. This patch indirectly
 achieves this by setting CFG_{OS,CPU}TYPE to more specific values depending
 on what DEB_HOST_ARCH is, hopefully preventing a multiple build.
 .
 Tested on armhf, untested on armel due to missing build-deps.
Author: Ximin Luo <infinity0@debian.org>
Forwarded: not-needed
---
This patch header follows DEP-3: http://dep.debian.net/deps/dep3/
Index: rustc.git/configure
===================================================================
--- rustc.git.orig/configure
+++ rustc.git/configure
@@ -508,8 +508,19 @@ case $CFG_CPUTYPE in
         ;;
 
     armv7l)
-        CFG_CPUTYPE=armv7
-        CFG_OSTYPE="${CFG_OSTYPE}eabihf"
+        case $DEB_HOST_ARCH in
+        armhf)
+            CFG_CPUTYPE=armv7
+            CFG_OSTYPE="${CFG_OSTYPE}eabihf"
+           ;;
+        armel)
+            CFG_CPUTYPE=arm
+            CFG_OSTYPE="${CFG_OSTYPE}eabi"
+           ;;
+        *)
+            err "unknown DEB_HOST_ARCH $DEB_HOST_ARCH for armv7l cpu"
+            ;;
+        esac
         ;;
 
     aarch64)
