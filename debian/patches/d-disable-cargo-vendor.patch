Description: Don't check for cargo-vendor when building from (Debian's) git
Author: Matthijs van Otterdijk <matthijs@wirevirt.net>
Forwarded: not-needed
---
Index: rust/src/bootstrap/dist.rs
===================================================================
--- rust.orig/src/bootstrap/dist.rs
+++ rust/src/bootstrap/dist.rs
@@ -438,7 +438,10 @@ pub fn rust_src(build: &Build) {
     }
 
     // If we're building from git sources, we need to vendor a complete distribution.
-    if build.src_is_git {
+    //
+    // Debian: disabling this block because the debian package is also in a git
+    //         repository, but cargo-vendor should not be installed or run.
+    if false && build.src_is_git {
         // Get cargo-vendor installed, if it isn't already.
         let mut has_cargo_vendor = false;
         let mut cmd = Command::new(&build.cargo);
